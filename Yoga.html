<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Yoga Flexibility Routine</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background: #f0f8ff; padding: 20px; }
        #player { width: 100%; max-width: 640px; height: 360px; margin: 20px auto; }
        h1 { color: #4a90e2; }
        p { max-width: 600px; margin: 0 auto; }
    </style>
</head>
<body>
    <h1>Daily Yoga Flexibility Routine (30 Min)</h1>
    <p>Click play‚Äîclips auto-advance with exact timestamps. Breathe deeply; modify as needed. For run days, edit script to skip 4 & 6.</p>
    <div id="player"></div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        var player;
        var clipIndex = 0;
        var clips = [
            // Array: [videoId, startSeconds, endSeconds, title]
            ['lMTyp5npt78', 90, 330, '1. Cat-Cow + Thread-the-Needle (4 min)'],  // Start 1:30, end ~5:30
            ['Fgz7Ikf7ATk', 270, 510, '2. Downward Dog + Walk the Dog (4 min)'], // Start 4:30, end ~8:30
            ['Ho9em79_0qg', 120, 360, '3. Low Lunge with Twist (4 min)'],        // Start 2:00, end ~6:00
            ['LTe3CO7Vtxs', 0, 240, '4. Pyramid Pose / Forward Fold (4 min)'],   // Full short video
            ['98rmMgBwJXE', 360, 600, '5. Lizard Pose (4 min)'],                 // Start 6:00, end ~10:00
            ['HIuJA4xS4WM', 180, 420, '6. Half-Pigeon / Figure-4 (4 min)'],      // Start 3:00, end ~7:00
            ['0DdXlmpdf-Y', 600, 780, '7. Supine Spinal Twist (3 min)'],         // Start 10:00, end ~13:00
            ['tTZRx453Lyo', 180, 300, '8. Happy Baby (2 min)'],                  // Start 3:00, end ~5:00
            ['ALlJdDPuyck', 360, 540, '9. Bridge Pose (3 min)'],                 // Start 6:00, end ~9:00
            ['W_1rFGUMnT8', 420, 660, '10. Legs-Up-the-Wall / Savasana (4 min)'] // Start 7:00, end ~11:00
        ];

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: clips[0][0],  // First video ID
                playerVars: {
                    'autoplay': 1,
                    'start': clips[0][1],  // Start at exact time
                    'rel': 0  // No related videos
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            // Set end time listener (poll every 5 sec to check time)
            setInterval(function() {
                if (player && player.getCurrentTime) {
                    var currentTime = player.getCurrentTime();
                    var endTime = clips[clipIndex][2];
                    if (currentTime >= endTime) {
                        nextClip();
                    }
                }
            }, 5000);
            document.getElementById('player').nextSibling.innerHTML = '<p>Now: ' + clips[0][3] + '</p>';  // Show current clip
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.ENDED) {
                nextClip();
            }
        }

        function nextClip() {
            clipIndex++;
            if (clipIndex < clips.length) {
                var nextClipData = clips[clipIndex];
                player.loadVideoById({
                    'videoId': nextClipData[0],
                    'startSeconds': nextClipData[1]
                });
                // Update display
                var display = document.getElementById('player').nextSibling;
                display.innerHTML = '<p>Now: ' + nextClipData[3] + '</p>';
            } else {
                // End of routine
                alert('Routine complete! Great job‚Äîfeel that flexibility? üßò‚Äç‚ôÇÔ∏è');
                player.stopVideo();
            }
        }
    </script>
</body>
</html>
